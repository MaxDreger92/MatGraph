{"ast":null,"code":"var _jsxFileName = \"/home/mdreger/Documents/MatGraphAI/MatGraphAI/frontend/src/App.tsx\",\n  _s = $RefreshSig$();\nimport { useState, useEffect } from \"react\";\nimport { useQuery, useQueryClient } from \"react-query\";\nimport { useNavigate } from \"react-router-dom\";\nimport { Routes, Route } from \"react-router-dom\";\nimport { userContext } from \"./common/userContext\";\nimport { Toaster } from \"react-hot-toast\";\nimport { HeaderTabs } from \"./components/header.component\";\nimport client from \"./client\";\nimport Home from \"./components/home.component\";\nimport Search from \"./components/search.component\";\nimport History from \"./components/history.component\";\nimport Account from \"./components/account.component\";\nimport AuthenticationForm from \"./components/authentication.component\";\nimport \"bootstrap/dist/css/bootstrap.min.css\";\nimport \"./App.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function App() {\n  _s();\n  const navigate = useNavigate();\n  const queryClient = useQueryClient();\n  const [activeTab, setActiveTab] = useState(() => localStorage.getItem(\"activeTab\") || null);\n  const {\n    data: currentUser,\n    isLoading,\n    isError\n  } = useQuery(\"getCurrentUser\", client.getCurrentUser);\n  useEffect(() => {\n    // navigate to login after getCurrentUser is \n    // resolved and currentUser is undefined\n    if (!isLoading && !isError && !currentUser) {\n      navigate(\"/login\");\n    }\n  }, [isLoading, isError, currentUser, navigate]);\n  useEffect(() => {\n    localStorage.setItem(\"activeTab\", activeTab || \"\");\n  }, [activeTab]);\n  const setTab = tab => {\n    setActiveTab(tab);\n  };\n  if (isLoading) {\n    console.log(\"loading\");\n    return /*#__PURE__*/_jsxDEV(\"div\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 12\n    }, this);\n  }\n  if (isError) {\n    console.log(\"error\");\n    // handle error\n  }\n\n  const handleHeaderLinkClick = key => {\n    navigate(key);\n  };\n  const handleLogout = () => {\n    queryClient.setQueryData(\"getCurrentUser\", undefined);\n    setActiveTab(\"\");\n    document.cookie = \"token=\";\n    navigate(\"/login\");\n  };\n  const currentColorIndex = 0; // make colorPalette choosable in settings later\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"wrap-app\",\n    children: [/*#__PURE__*/_jsxDEV(userContext.Provider, {\n      value: currentUser,\n      children: [currentUser && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"header\",\n        children: /*#__PURE__*/_jsxDEV(HeaderTabs, {\n          onHeaderLinkClick: handleHeaderLinkClick,\n          onLogout: handleLogout,\n          tab: activeTab,\n          setTab: setTab\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"main-window\",\n        children: /*#__PURE__*/_jsxDEV(Routes, {\n          children: [/*#__PURE__*/_jsxDEV(Route, {\n            path: \"/\",\n            element: /*#__PURE__*/_jsxDEV(Home, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 87,\n              columnNumber: 38\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 87,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Route, {\n            path: \"/search\",\n            element: /*#__PURE__*/_jsxDEV(Search, {\n              colorIndex: currentColorIndex\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 88,\n              columnNumber: 44\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 88,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Route, {\n            path: \"/history\",\n            element: /*#__PURE__*/_jsxDEV(History, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 89,\n              columnNumber: 45\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 89,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Route, {\n            path: \"/login\",\n            element: /*#__PURE__*/_jsxDEV(AuthenticationForm, {\n              setTab: setTab\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 90,\n              columnNumber: 43\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 90,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Route, {\n            path: \"/account\",\n            element: /*#__PURE__*/_jsxDEV(Account, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 91,\n              columnNumber: 45\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 91,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Toaster, {\n      position: \"top-center\",\n      containerStyle: {\n        top: \"80px\"\n      },\n      toastOptions: {\n        style: {\n          borderRadius: \"5px\",\n          background: \"#25262b\",\n          color: \"#C1C2C5\"\n        }\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 78,\n    columnNumber: 5\n  }, this);\n}\n_s(App, \"CBhPekgqrE01yrWZJCj6QJIqZ+U=\", false, function () {\n  return [useNavigate, useQueryClient, useQuery];\n});\n_c = App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["useState","useEffect","useQuery","useQueryClient","useNavigate","Routes","Route","userContext","Toaster","HeaderTabs","client","Home","Search","History","Account","AuthenticationForm","jsxDEV","_jsxDEV","App","_s","navigate","queryClient","activeTab","setActiveTab","localStorage","getItem","data","currentUser","isLoading","isError","getCurrentUser","setItem","setTab","tab","console","log","fileName","_jsxFileName","lineNumber","columnNumber","handleHeaderLinkClick","key","handleLogout","setQueryData","undefined","document","cookie","currentColorIndex","className","children","Provider","value","onHeaderLinkClick","onLogout","path","element","colorIndex","position","containerStyle","top","toastOptions","style","borderRadius","background","color","_c","$RefreshReg$"],"sources":["/home/mdreger/Documents/MatGraphAI/MatGraphAI/frontend/src/App.tsx"],"sourcesContent":["import { useState, useEffect } from \"react\"\nimport { useQuery, useQueryClient } from \"react-query\"\nimport { useNavigate, useLocation } from \"react-router-dom\"\nimport { Routes, Route} from \"react-router-dom\"\nimport { userContext } from \"./common/userContext\"\nimport { Toaster } from \"react-hot-toast\"\nimport { HeaderTabs } from \"./components/header.component\"\nimport IUser from \"./types/user.type\"\n\nimport client from \"./client\"\n\nimport Home from \"./components/home.component\"\nimport Search from \"./components/search.component\"\nimport History from \"./components/history.component\"\nimport Account from \"./components/account.component\"\nimport AuthenticationForm from \"./components/authentication.component\"\n\nimport \"bootstrap/dist/css/bootstrap.min.css\"\nimport \"./App.css\"\n\nexport default function App() {\n  const navigate = useNavigate()\n  const queryClient = useQueryClient()\n  const [activeTab, setActiveTab] = useState<string | null>(\n    () => localStorage.getItem(\"activeTab\") || null\n  )\n\n  const {\n    data: currentUser,\n    isLoading,\n    isError\n  } = useQuery<IUser | null | undefined>(\n    \"getCurrentUser\",\n    client.getCurrentUser\n  )\n\n  useEffect(() => {\n    // navigate to login after getCurrentUser is \n    // resolved and currentUser is undefined\n    if (!isLoading && !isError && !currentUser) {\n      navigate(\"/login\")\n    }\n  }, [isLoading, isError, currentUser, navigate])\n\n  useEffect(() => {\n    localStorage.setItem(\"activeTab\", activeTab || \"\")\n  }, [activeTab])\n\n  const setTab = (tab: string) => {\n    setActiveTab(tab)\n  }\n\n  if (isLoading) {\n    console.log(\"loading\")\n    return <div></div>\n  }\n\n  if (isError) {\n    console.log(\"error\")\n    // handle error\n  }\n\n  const handleHeaderLinkClick = (key: string) => {\n    navigate(key)\n  }\n\n  const handleLogout = () => {\n    queryClient.setQueryData<IUser | null | undefined>(\"getCurrentUser\", undefined)\n    setActiveTab(\"\")\n    document.cookie = \"token=\"\n    navigate(\"/login\")\n\n  }\n\n  const currentColorIndex = 0 // make colorPalette choosable in settings later\n\n  return (\n    <div className=\"wrap-app\">\n      <userContext.Provider value={currentUser}>\n        {currentUser && (\n          <div className=\"header\">\n            <HeaderTabs onHeaderLinkClick={handleHeaderLinkClick} onLogout={handleLogout} tab={activeTab} setTab={setTab}/>\n          </div>\n        )}\n        <div className=\"main-window\">\n          <Routes>\n            <Route path=\"/\" element={<Home />} />\n            <Route path=\"/search\" element={<Search colorIndex={currentColorIndex} />} />\n            <Route path=\"/history\" element={<History />} />\n            <Route path=\"/login\" element={<AuthenticationForm setTab={setTab}/>} />\n            <Route path=\"/account\" element={<Account />} />\n          </Routes>\n        </div>\n      </userContext.Provider>\n      <Toaster\n        position=\"top-center\"\n        containerStyle={{\n          top: \"80px\"\n        }}\n        toastOptions={{\n          style: {\n            borderRadius: \"5px\",\n            background: \"#25262b\",\n            color: \"#C1C2C5\"\n          }\n        }}\n      />\n    </div>\n  )\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}